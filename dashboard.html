<!DOCTYPE html>
<html>
<head>
    <title>TYS CRM Dashboard</title>
    <style>
        body {
            font-family: Arial;
            background: #111;
            color: white;
            padding: 20px;
        }

        h1 { color: #00aaff; }

        button {
            padding: 10px 15px;
            margin: 5px;
            background: #333;
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 5px;
        }

        button:hover {
            background: #00aaff;
        }

        .section {
            margin-top: 20px;
            padding: 15px;
            background: #1e1e1e;
            border-radius: 5px;
        }

        #result {
            margin-top: 20px;
            background: #222;
            padding: 15px;
            border-radius: 5px;
            white-space: pre-wrap;
        }
    </style>
</head>
<body>

<h1>TYS CRM CONTROL PANEL</h1>

<div class="section">
    <h3>Seleziona Piano</h3>
    <button onclick="setPlan('hotel',159)">Hotel 159</button>
    <button onclick="setPlan('attivita',69)">Attività 69</button>
    <button onclick="setPlan('attivita',29)">Attività 29</button>
</div>

<div class="section">
    <h3>Azioni</h3>
    <button onclick="createRadio()">CREA RADIO</button>
    <button onclick="listStations()">LISTA RADIO</button>
</div>

<div id="result"></div>

<script>

async function setPlan(type, plan) {

    const res = await fetch('/setProfile', {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify({
            business_type: type,
            plan: plan
        })
    });

    const data = await res.json();
    document.getElementById("result").innerText = JSON.stringify(data, null, 2);
}

async function createRadio() {

    const res = await fetch('/createStation', {
        method: 'POST'
    });

    const data = await res.json();
    document.getElementById("result").innerText = JSON.stringify(data, null, 2);
}

async function listStations() {

    const res = await fetch('/stations');
    const data = await res.json();

    document.getElementById("result").innerText = JSON.stringify(data, null, 2);
}

</script>

</body>
</html>